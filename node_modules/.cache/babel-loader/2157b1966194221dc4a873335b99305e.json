{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Christian Z/Documents/Gemeinde/church-website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Christian Z/Documents/Gemeinde/church-website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Title,SubTitle}from\"../Components.js\";import'./CSS/Neuigkeiten.css';import getProperty from\"../DataHandler.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Neuigkeiten(){document.title=\"FBG Bremen - Neuigkeiten\";var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){getProperty(\"neuigkeiten\").then(function(content){setData(content);});},[]);console.log(data);if(data===undefined)return;var content=data.neuigkeiten.map(function(obj){return/*#__PURE__*/_jsx(UpcomingEvent,{title:obj.title,imgSrc:obj.imgSrc,children:/*#__PURE__*/_jsx(\"p\",{className:\"eventText\",children:obj.text.map(function(line){if(line.slice(0,6)===\"<link>\")return lineToLink(line);return lineToHtml(line);})})},obj.title);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Title,{title:\"Neuigkeiten\"}),content]});}function lineToHtml(line){var content=[\"\"];var chars=_toConsumableArray(line);for(var i=0;i<chars.length;i++){if(chars[i]==='\\n'){content.push(/*#__PURE__*/_jsx(\"br\",{},i));content.push(\"\");}else content[content.length-1]+=chars[i];}return content;}function lineToLink(line){line=line.slice(6);var _line$split=line.split(\"_text_:\"),_line$split2=_slicedToArray(_line$split,2),url=_line$split2[0],text=_line$split2[1];return/*#__PURE__*/_jsx(\"a\",{href:url,target:\"_blank\",rel:\"noreferrer\",children:text},url);}function UpcomingEvent(params){return/*#__PURE__*/_jsxs(\"div\",{className:\"eventPanel\",children:[/*#__PURE__*/_jsx(SubTitle,{title:params.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"eventContent\",children:[params.imgSrc!=null&&/*#__PURE__*/_jsx(\"img\",{className:\"eventImage\",src:params.imgSrc,alt:params.ingSrc}),params.imgSrc==null&&/*#__PURE__*/_jsx(\"div\",{className:\"eventImage\"}),params.children]})]});}","map":{"version":3,"names":["useEffect","useState","Title","SubTitle","getProperty","Neuigkeiten","document","title","data","setData","then","content","console","log","undefined","neuigkeiten","map","obj","imgSrc","text","line","slice","lineToLink","lineToHtml","chars","i","length","push","split","url","UpcomingEvent","params","ingSrc","children"],"sources":["C:/Users/Christian Z/Documents/Gemeinde/church-website/src/Pages/Neuigkeiten.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nimport { Title, SubTitle } from \"../Components.js\";\r\nimport './CSS/Neuigkeiten.css';\r\nimport getProperty from \"../DataHandler.js\";\r\n\r\nexport default function Neuigkeiten(){\r\n    document.title = \"FBG Bremen - Neuigkeiten\";\r\n\r\n    const [data, setData] = useState();\r\n\r\n    useEffect(() => {\r\n        getProperty(\"neuigkeiten\").then(function(content) { setData(content); });\r\n    }, []);\r\n\r\n    console.log(data);\r\n\r\n    if(data === undefined) return;\r\n\r\n    let content = data.neuigkeiten.map((obj) => {\r\n        return <UpcomingEvent title={obj.title} imgSrc={obj.imgSrc} key={obj.title}>\r\n            <p className=\"eventText\">{obj.text.map((line) => {\r\n                if(line.slice(0, 6) === \"<link>\") return lineToLink(line);\r\n                return lineToHtml(line);\r\n            })}</p>\r\n        </UpcomingEvent>\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <Title title=\"Neuigkeiten\"/>\r\n\r\n            { content }\r\n        </>\r\n    );\r\n}\r\n\r\nfunction lineToHtml(line){\r\n    let content = [\"\"];\r\n    let chars = [...line];\r\n    \r\n    for(let i = 0; i < chars.length; i++){\r\n        if(chars[i] === '\\n') {\r\n            content.push(<br key={i}/>);\r\n            content.push(\"\");\r\n        }\r\n        else content[content.length - 1] += chars[i];\r\n    }\r\n\r\n    return content;\r\n}\r\nfunction lineToLink(line){\r\n    line = line.slice(6);\r\n    let [url, text] = line.split(\"_text_:\");\r\n    return <a href={url} target=\"_blank\" rel=\"noreferrer\" key={url}>{text}</a>\r\n}\r\n\r\nfunction UpcomingEvent(params){\r\n    return(\r\n        <div className=\"eventPanel\">\r\n            <SubTitle title={params.title}/>\r\n            <div className=\"eventContent\">\r\n                {params.imgSrc != null && <img className=\"eventImage\" src={params.imgSrc} alt={params.ingSrc}/>}\r\n                {params.imgSrc == null && <div className=\"eventImage\"/>}\r\n                {params.children}\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}