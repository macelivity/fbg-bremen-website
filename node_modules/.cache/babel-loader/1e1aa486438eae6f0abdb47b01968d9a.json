{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Christian Z/Documents/Gemeinde/Website/church-website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Christian Z/Documents/Gemeinde/Website/church-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"C:/Users/Christian Z/Documents/Gemeinde/Website/church-website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Christian Z/Documents/Gemeinde/Website/church-website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import $ from'jquery';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function LoadJSON(path){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){getJSON(process.env.PUBLIC_URL+\"/\"+path).then(function(content){setData(content);});},[path]);return data;}function getJSON(path){return $.getJSON(path,function(result){return result;});}export function lineToHtml(line){var content=[\"\"];var chars=_toConsumableArray(line);for(var i=0;i<chars.length;i++){if(chars[i]==='\\n'){content.push(/*#__PURE__*/_jsx(\"br\",{},i));content.push(\"\");}else content[content.length-1]+=chars[i];}return content;}function lineToLink(line){line=line.slice(6);var _line$split=line.split(\"<txt>\"),_line$split2=_slicedToArray(_line$split,2),url=_line$split2[0],text=_line$split2[1];return/*#__PURE__*/_jsx(\"a\",{href:url,target:\"_blank\",rel:\"noreferrer\",children:text},url);}export function strArrayToText(strArray){var spacer=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";if(strArray===undefined)return/*#__PURE__*/_jsx(_Fragment,{});return strArray.map(function(line){if(line.slice(0,6)===\"<link>\")return lineToLink(line);return lineToHtml(line);});}export function strRemoveUmlauts(str){str=str.replace(/\\u00c4/g,\"Ae\");str=str.replace(/\\u00e4/g,\"ae\");str=str.replace(/\\u00d6/g,\"Oe\");str=str.replace(/\\u00f6/g,\"oe\");str=str.replace(/\\u00dc/g,\"Ue\");str=str.replace(/\\u00fc/g,\"ue\");str=str.replace(/\\u00df/g,\"ss\");return str;}export function useGetLatestVideos(){var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),videos=_useState4[0],setVideos=_useState4[1];var channelId=\"UChUaD69cuuTJSUuu_fHJgFQ\";var baseUrl='https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fwww.youtube.com%2Ffeeds%2Fvideos.xml%3Fchannel_id%3D';useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!channelId){_context.next=11;break;}_context.prev=1;_context.next=4;return fetch(\"\".concat(baseUrl).concat(channelId)).then(function(response){return response.json();});case 4:data=_context.sent;setVideos(data.items);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}))();},[channelId]);return videos;}","map":{"version":3,"names":["$","useState","useEffect","LoadJSON","path","data","setData","getJSON","process","env","PUBLIC_URL","then","content","result","lineToHtml","line","chars","i","length","push","lineToLink","slice","split","url","text","strArrayToText","strArray","spacer","undefined","map","strRemoveUmlauts","str","replace","useGetLatestVideos","videos","setVideos","channelId","baseUrl","fetch","response","json","items","console","log"],"sources":["C:/Users/Christian Z/Documents/Gemeinde/Website/church-website/src/DataHandler.js"],"sourcesContent":["import $ from 'jquery';\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport function LoadJSON(path){\r\n  const [data, setData] = useState();\r\n\r\n  useEffect(() => {\r\n      getJSON(process.env.PUBLIC_URL + \"/\" + path).then(function(content) { setData(content); });\r\n  }, [path]);\r\n\r\n  return data;\r\n}\r\n\r\nfunction getJSON(path){\r\n    return $.getJSON(path, function(result) {\r\n        return result;\r\n    });\r\n}\r\n\r\n\r\nexport function lineToHtml(line){\r\n    let content = [\"\"];\r\n    let chars = [...line];\r\n    \r\n    for(let i = 0; i < chars.length; i++){\r\n        if(chars[i] === '\\n') {\r\n            content.push(<br key={i}/>);\r\n            content.push(\"\");\r\n        }\r\n        else content[content.length - 1] += chars[i];\r\n    }\r\n\r\n    return content;\r\n}\r\nfunction lineToLink(line){\r\n    line = line.slice(6);\r\n    let [url, text] = line.split(\"<txt>\");\r\n    return <a href={url} target=\"_blank\" rel=\"noreferrer\" key={url}>{text}</a>\r\n}\r\n\r\nexport function strArrayToText(strArray, spacer = \"\"){\r\n    if(strArray === undefined) return <></>;\r\n    \r\n    return strArray.map((line) => {\r\n        if(line.slice(0, 6) === \"<link>\") return lineToLink(line);\r\n        return lineToHtml(line);\r\n    })\r\n}\r\n\r\nexport function strRemoveUmlauts(str){\r\n    str = str.replace(/\\u00c4/g, \"Ae\");\r\n    str = str.replace(/\\u00e4/g, \"ae\");\r\n    str = str.replace(/\\u00d6/g, \"Oe\");\r\n    str = str.replace(/\\u00f6/g, \"oe\");\r\n    str = str.replace(/\\u00dc/g, \"Ue\");\r\n    str = str.replace(/\\u00fc/g, \"ue\");\r\n    str = str.replace(/\\u00df/g, \"ss\");\r\n    return str;\r\n}\r\n\r\n\r\nexport function useGetLatestVideos(){\r\n    const [videos, setVideos] = useState([]);\r\n    var channelId = \"UChUaD69cuuTJSUuu_fHJgFQ\";\r\n\r\n    const baseUrl = 'https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fwww.youtube.com%2Ffeeds%2Fvideos.xml%3Fchannel_id%3D';\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            if (channelId) {\r\n                try {\r\n                    const data = await fetch(`${baseUrl}${channelId}`).then(response => response.json());\r\n                    setVideos(data.items);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            }\r\n        })();\r\n    }, [channelId]);\r\n\r\n    return videos;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}